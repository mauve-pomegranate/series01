<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #a7c598; -webkit-text-stroke: #a7c598}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
    span.s11 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s12 {font-kerning: none}
    span.s13 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s14 {font-kerning: none; color: #a34f83; background-color: #171818; -webkit-text-stroke: 0px #a34f83}
    span.s15 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Story Bible Wiki</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"preconnect"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"preconnect"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.gstatic.com"</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=Lora:ital,wght@0,400;0,700;1,400&amp;display=swap"</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Custom Styles */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Inter'</span><span class="s7">,</span><span class="s1"> </span><span class="s5">sans-serif</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #f3f4f6</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Light gray background */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.prose-custom</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Lora'</span><span class="s7">,</span><span class="s1"> </span><span class="s5">serif</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.prose-custom</span><span class="s4"> </span><span class="s1">h1</span><span class="s7">,</span><span class="s4"> </span><span class="s1">.prose-custom</span><span class="s4"> </span><span class="s1">h2</span><span class="s7">,</span><span class="s4"> </span><span class="s1">.prose-custom</span><span class="s4"> </span><span class="s1">h3</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Inter'</span><span class="s7">,</span><span class="s1"> </span><span class="s5">sans-serif</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s9">700</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.card</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #ffffff</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">0.75rem</span><span class="s7">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">4px</span><span class="s4"> </span><span class="s1">6px</span><span class="s4"> </span><span class="s1">-1px</span><span class="s4"> </span><span class="s5">rgb(</span><span class="s1">0</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s7">/</span><span class="s4"> </span><span class="s1">0.1</span><span class="s5">)</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">2px</span><span class="s4"> </span><span class="s1">4px</span><span class="s4"> </span><span class="s1">-2px</span><span class="s4"> </span><span class="s5">rgb(</span><span class="s1">0</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s7">/</span><span class="s4"> </span><span class="s1">0.1</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s4"> </span><span class="s1">box-shadow</span><span class="s4"> </span><span class="s9">0.3s</span><span class="s4"> </span><span class="s1">ease-in-out</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.card:hover</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">10px</span><span class="s4"> </span><span class="s1">15px</span><span class="s4"> </span><span class="s1">-3px</span><span class="s4"> </span><span class="s5">rgb(</span><span class="s1">0</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s7">/</span><span class="s4"> </span><span class="s1">0.1</span><span class="s5">)</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">4px</span><span class="s4"> </span><span class="s1">6px</span><span class="s4"> </span><span class="s1">-4px</span><span class="s4"> </span><span class="s5">rgb(</span><span class="s1">0</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s7">/</span><span class="s4"> </span><span class="s1">0.1</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s7">[</span><span class="s1">contenteditable</span><span class="s7">]</span><span class="s6">:focus</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">outline:</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #4f46e5</span><span class="s7">;</span><span class="s1"> </span><span class="s10">/* Indigo focus ring */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">3px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">79</span><span class="s7">,</span><span class="s1"> </span><span class="s9">70</span><span class="s7">,</span><span class="s1"> </span><span class="s9">229</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.2</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Custom Link Styles */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.prose-custom</span><span class="s4"> </span><span class="s1">a.internal-link</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #6d28d9</span><span class="s7">;</span><span class="s1"> </span><span class="s10">/* Purple */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">text-decoration:</span><span class="s4"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s9">600</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.prose-custom</span><span class="s4"> </span><span class="s1">a.internal-link:hover</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">text-decoration:</span><span class="s4"> </span><span class="s5">underline</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.prose-custom</span><span class="s4"> </span><span class="s1">a.external-link</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #059669</span><span class="s7">;</span><span class="s1"> </span><span class="s10">/* Green */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">text-decoration:</span><span class="s4"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s9">600</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.prose-custom</span><span class="s4"> </span><span class="s1">a.external-link:hover</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">text-decoration:</span><span class="s4"> </span><span class="s5">underline</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.prose-custom</span><span class="s4"> </span><span class="s1">a.external-link::after</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">content:</span><span class="s1"> </span><span class="s8">' ↗'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">inline-block</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">0.8em</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">vertical-align:</span><span class="s4"> </span><span class="s5">super</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.highlight</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #fef08a</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Yellow highlight */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">0.25rem</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">2px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.search-highlight</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #fcd34d</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Amber highlight for search */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">flash</span><span class="s4"> </span><span class="s9">1.5s</span><span class="s4"> </span><span class="s1">ease-in-out</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s5">flash</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">background-color:</span><span class="s1"> #fcd34d</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">50%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">background-color:</span><span class="s1"> #fef08a</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">100%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">background-color:</span><span class="s1"> #fcd34d</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s3">&lt;</span><span class="s6">body</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-100 text-gray-800"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Password Protection Overlay --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"password-overlay"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-50"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-white p-8 rounded-lg shadow-2xl w-full max-w-sm text-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-2xl font-bold mb-4 text-gray-700"</span><span class="s3">&gt;</span><span class="s4">Enter Access Code</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-gray-600 mb-6"</span><span class="s3">&gt;</span><span class="s1">This story bible is protected.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"password"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"password-input"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Password"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"submit-password"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition-colors"</span><span class="s3">&gt;</span><span class="s4">Unlock</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"password-error"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-red-500 mt-4 text-sm hidden"</span><span class="s3">&gt;</span><span class="s1">Incorrect password. Please try again.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Main Content (hidden by default) --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"main-content"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Header --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">header</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-white shadow-md sticky top-0 z-30"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"container mx-auto px-4 sm:px-6 lg:px-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex items-center justify-between h-16"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"flex items-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"h-8 w-8 text-indigo-600"</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M12 6.253v11.494m-9-5.747h18"</span><span class="s3">/&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-xl font-bold text-gray-800 ml-2"</span><span class="s3">&gt;</span><span class="s1">Into the Æther: Story Bible</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex items-center space-x-4"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"relative w-64"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"search"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"search-input"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full pl-10 pr-4 py-2 border rounded-full text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Search bible..."</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"absolute top-0 left-0 mt-2 ml-3"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"h-5 w-5 text-gray-400"</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s3">&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"search-results-container"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"absolute mt-1 w-full bg-white rounded-md shadow-lg z-20 hidden max-h-80 overflow-y-auto"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"logout-button"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-red-600 transition"</span><span class="s3">&gt;</span><span class="s4">Logout</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">header</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Main Layout --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"container mx-auto px-4 sm:px-6 lg:px-8 py-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lg:grid lg:grid-cols-12 lg:gap-8"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Navigation Sidebar --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">nav</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lg:col-span-3 mb-8 lg:mb-0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"sticky top-24"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3"</span><span class="s3">&gt;</span><span class="s4">Sections</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">ul</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"navigation-links"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"space-y-2"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s1">&lt;!-- Navigation links will be dynamically inserted here --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">ul</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">nav</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Content Area --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">main</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"content-area"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lg:col-span-9"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">&lt;!-- Content sections will be dynamically inserted here --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">main</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Add Link Modal --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"add-link-modal"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-40 hidden"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-white p-6 rounded-lg shadow-xl w-full max-w-md"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-lg font-medium leading-6 text-gray-900 mb-4"</span><span class="s3">&gt;</span><span class="s4">Add a Link</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"link-text"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block text-sm font-medium text-gray-700"</span><span class="s3">&gt;</span><span class="s4">Link Text</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"link-text"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mt-4"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"link-type"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block text-sm font-medium text-gray-700"</span><span class="s3">&gt;</span><span class="s4">Link Type</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"link-type"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"internal"</span><span class="s3">&gt;</span><span class="s1">Internal Cross-Reference</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"external"</span><span class="s3">&gt;</span><span class="s1">External Link (e.g., Wikipedia)</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mt-4"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"link-target"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block text-sm font-medium text-gray-700"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"link-target-label"</span><span class="s3">&gt;</span><span class="s4">Reference (Entry Name)</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"link-target"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"e.g., Alex 'Bowie' Shepard"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-6 flex justify-end space-x-3"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"cancel-link-button"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"</span><span class="s3">&gt;</span><span class="s4">Cancel</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"insert-link-button"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"</span><span class="s3">&gt;</span><span class="s4">Insert Link</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- DATA STORE ---</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// This is where all the content for your story bible lives.</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// It's structured as a JavaScript object. You can edit, add, or remove content here.</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> storyBibleData </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>overview</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Series Logline"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Across fractured realities and hidden worlds, a diverse group of individuals-an American expatriate, a half-kitsune investigator, a hardened operative, and resilient survivors of a broken America-must unravel ancient prophecies, confront corporate conspiracies, and battle cosmic entities to prevent the annihilation of all existence, forcing them to question the nature of identity, sacrifice, and the threads that bind family and fate.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Working Titles"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;ul&gt;&lt;li&gt;Book 1: Fate and Foxfire&lt;/li&gt;&lt;li&gt;Book 2: Family and Folklore&lt;/li&gt;&lt;li&gt;Book 3: Faith and Finality&lt;/li&gt;&lt;/ul&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Primary Genre"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Urban Fantasy / Speculative Fiction&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Secondary Elements:&lt;/strong&gt; Conspiracy Thriller, Post-Apocalyptic (Book 2), Mythic Fiction, Cosmic Horror (hints).&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Target Audience"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Older Young Adult to Adult, interested in complex plots, intricate world-building, Japanese &amp; American folklore, blend of magic/science, and character-driven stories with strong emotional cores.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>characters</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Alex 'Bowie' Shepard"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Role:&lt;/strong&gt; Primary Protagonist&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt; An American expatriate in Tokyo, working for a Mobex shell company to maintain his work visa and avoid returning to the New American Republic (NAR) where his sister &lt;a href="#/search/Carly Shepard" class="internal-link"&gt;Carly Shepard&lt;/a&gt; resides. He becomes entangled in the supernatural mystery surrounding &lt;a href="#/search/Yume Minamoto / Sakura" class="internal-link"&gt;Yume Minamoto / Sakura&lt;/a&gt;. His journey involves developing Ætheric sensitivity, being guided by cryptic clues and supernatural entities (like &lt;a href="#/search/Mr. Whispers" class="internal-link"&gt;Mr. Whispers&lt;/a&gt;), and eventually being "split" into two versions due to the Ikanajima incident.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Key Traits:&lt;/strong&gt; Observant, determined, develops empathy and a strong sense of responsibility. Susceptible to migraines linked to Ætheric sensitivity. Resourceful but often out of his depth.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Book Arcs:&lt;/strong&gt;&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;ul&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Book 1 (Fate and Foxfire):&lt;/strong&gt; Tasked to find missing client Yume Minamoto. Follows cryptic clues, teams up with &lt;a href="#/search/Mizuki / Hisoka" class="internal-link"&gt;Mizuki / Hisoka&lt;/a&gt;. Enters the &lt;a href="#/search/Kozyrev Mirror" class="internal-link"&gt;Kozyrev Mirror&lt;/a&gt; leading to his "splitting" and subsequent memory wipe.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Book 2 (Family and Folklore - NAR-Bowie):&lt;/strong&gt; A "split" version in the harsh NAR. Sacrifices himself to save Carly.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Book 3 (Faith and Finality - Japan-Bowie):&lt;/strong&gt; Original Bowie, memories wiped. Must confront his fractured nature and the new cosmic threat, &lt;a href="#/search/Mushoku" class="internal-link"&gt;Mushoku&lt;/a&gt;.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/ul&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;His expatriate experience can be compared to the feeling of cultural displacement and search for identity found in the literature of authors like James Baldwin or Ernest Hemingway.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Mizuki / Hisoka"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Role:&lt;/strong&gt; Primary Protagonist&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt; An independent researcher driven by her mother Sakura's vanishing. She is half-kitsune, initially unaware of her full heritage, but her powers (phasing, foxfire) awaken during Book 1, leading her to embrace the name Hisoka. "Hisoka" is her true kitsune name.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Key Traits:&lt;/strong&gt; Intelligent, resourceful, initially guarded and pragmatic, becomes immensely powerful. Deeply connected to the &lt;a href="#/search/The Æther" class="internal-link"&gt;Æther&lt;/a&gt; and kitsune lore.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Book Arcs:&lt;/strong&gt;&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;ul&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Book 1 (Fate and Foxfire):&lt;/strong&gt; Researches disappearances, forms an alliance with Bowie. Awakens her kitsune powers on Ikanajima and embraces her identity as Hisoka. Makes the difficult decision to wipe Bowie's memory to protect him.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Book 3 (Faith and Finality):&lt;/strong&gt; Reunites with Carly and Bowie. Plays a key role in guiding them and confronting &lt;a href="#/search/Mushoku" class="internal-link"&gt;Mushoku&lt;/a&gt;.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/ul&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Her kitsune heritage draws from Japanese folklore, specifically tales of fox spirits who are often depicted as intelligent, powerful, and sometimes deceptive beings. See &lt;a href="https://en.wikipedia.org/wiki/Kitsune" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Kitsune on Wikipedia&lt;/a&gt;.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Carly Shepard"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Role:&lt;/strong&gt; Primary Protagonist&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt; Alex's sister living in the New American Republic (NAR). A resourceful tech scavenger who becomes involved in the wider conflict after her brother's disappearance.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Key Traits:&lt;/strong&gt; Resilient, practical, skilled scavenger and forager, strong familial loyalty. Learns to adapt to supernatural elements through folk magic.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Her skills in scavenging and survival in a collapsed society are reminiscent of characters in post-apocalyptic fiction like Cormac McCarthy's "The Road". Her learning of folk magic connects to traditions like Appalachian folk medicine or Pennsylvania Dutch Pow-wow.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Shikako ('Onryō')"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Role:&lt;/strong&gt; Key Ally / Operative&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt; A highly skilled Zenko Order operative with cybernetic enhancements. Initially detached and mission-focused, she gradually develops empathy through her interactions with the other protagonists.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Key Traits:&lt;/strong&gt; Highly skilled (infiltration, combat, tech). Professional, detached, loyal to mission parameters (initially). Cybernetically enhanced.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Her character archetype is similar to cybernetically enhanced operatives in cyberpunk fiction, such as Major Motoko Kusanagi from &lt;a href="https://en.wikipedia.org/wiki/Ghost_in_the_Shell" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Ghost in the Shell&lt;/a&gt;.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Commander Colt"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Role:&lt;/strong&gt; Primary Antagonist (Book 1)&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt; High-ranking Yako Syndicate operative overseeing Project Tsunagari on Ikanajima. Ruthless and ambitious, driven by a desire for power that is limited by his Zainichi (Korean-Japanese) lineage within the xenophobic Yako Syndicate.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Key Traits:&lt;/strong&gt; Physically imposing, cybernetically enhanced, driven by power, cruel, and ambitious.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;His struggle as a Zainichi individual in Japan reflects real-world social and political issues regarding ethnicity and citizenship in the country. See &lt;a href="https://en.wikipedia.org/wiki/Koreans_in_Japan" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Koreans in Japan on Wikipedia&lt;/a&gt;.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Mushoku"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Role:&lt;/strong&gt; Primary Antagonist (Book 3)&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt; A human or partial human with immense power who seeks to bring about "Sunyata" (emptiness/the void) for all existence. Not motivated by personal gain but by a philosophical drive for cosmic annihilation or reset.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Key Traits:&lt;/strong&gt; Extremely powerful, philosophical/nihilistic motivations.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;His philosophy draws from the Buddhist concept of &lt;a href="https://en.wikipedia.org/wiki/%C5%9A%C5%ABnyat%C4%81" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Śūnyatā (Emptiness)&lt;/a&gt;, but twisted into a destructive, nihilistic goal, similar to villains like Thanos who believe in annihilation for a perceived greater good.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Yume Minamoto / Sakura"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Role:&lt;/strong&gt; The Catalyst / Key Figure&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt; Yume is a sophisticated thought form (&lt;a href="#/search/Thought Forms (Tulpas/Egregores)" class="internal-link"&gt;Tulpa&lt;/a&gt;), created by Mobex's Project Sakura. She is initially trapped in the Æther. During the Ikanajima climax, she merges with the essence of the original Sakura (Mizuki's mother), becoming a more complete, powerful, and wise being.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Key Traits:&lt;/strong&gt; (As Yume) Ethereal, trapped, green-eyed. (As Sakura) Wise, powerful, maternal, deeply connected to the Æther.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;The concept of a Tulpa originates from Tibetan mysticism. The idea of an artificially created being gaining sentience is a common theme in science fiction, notably in stories like &lt;a href="https://en.wikipedia.org/wiki/Frankenstein" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Frankenstein&lt;/a&gt; or the Replicants in &lt;a href="https://en.wikipedia.org/wiki/Blade_Runner" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Blade Runner&lt;/a&gt;.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Mr. Whispers"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Role:&lt;/strong&gt; Mentor / Guide&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt; A talking white Persian cat with blue eyes and a golden hue. He commands the "Kitty Coalition" and guides &lt;a href="#/search/Alex 'Bowie' Shepard" class="internal-link"&gt;Alex 'Bowie' Shepard&lt;/a&gt; with cryptic advice. He possesses deep knowledge of the Æther, kitsune, and the non-linear nature of time.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Key Traits:&lt;/strong&gt; Wise, enigmatic, cryptic, powerful.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;The archetype of a talking animal guide is common in folklore and fantasy, such as Puss in Boots or the Cheshire Cat from &lt;a href="https://en.wikipedia.org/wiki/Alice%27s_Adventures_in_Wonderland" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Alice's Adventures in Wonderland&lt;/a&gt;, who both offer cryptic but crucial advice.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>worldBuilding</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"The Æther"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;A liminal, energetic dimension existing between or underlying realities. The Æther is mutable and responsive to consciousness and intent. Time within it is non-linear. It is the source of immense power and the plane from which beings like &lt;a href="#/search/Thought Forms (Tulpas/Egregores)" class="internal-link"&gt;Tulpas&lt;/a&gt; are formed.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Access Points:&lt;/strong&gt; Natural nexuses (ley line convergences like Watanabe Park), innate ability (kitsune), ritual magic, and advanced technology like the &lt;a href="#/search/Kozyrev Mirror" class="internal-link"&gt;Kozyrev Mirror&lt;/a&gt;.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;The concept is similar to the Astral Plane in theosophy and occult traditions, or the Fade in the Dragon Age video game series. It also shares traits with the "Upside Down" from &lt;a href="https://en.wikipedia.org/wiki/Stranger_Things" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Stranger Things&lt;/a&gt;, a parallel dimension that mirrors and affects our own.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Kitsune (Fox Spirits)"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;Ancient, magical beings intrinsically linked to the Æther and the deity Inari. They grow more powerful and gain more tails with age. They are capable of foxfire, shapeshifting, and phasing between realities.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Factions:&lt;/strong&gt;&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;ul&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Zenko (Celestial Kitsune):&lt;/strong&gt; Generally benevolent, aligned with balance. The Zenko Order and the Celestial Council are part of this faction.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Yako (Field Kitsune):&lt;/strong&gt; Can be mischievous or malevolent. The Yako Syndicate aligns with this archetype.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Nogitsune:&lt;/strong&gt; A subset of Yako, agents of chaos.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/ul&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Directly based on the rich lore of &lt;a href="https://en.wikipedia.org/wiki/Kitsune" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Kitsune in Japanese folklore&lt;/a&gt;. Their division into benevolent (Zenko) and malevolent (Yako) types is a common interpretation in modern fiction.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Thought Forms (Tulpas/Egregores)"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;Beings created from concentrated thought, belief, and Ætheric energy, capable of physical manifestation. Corporate entities like Mobex attempt to create and control them through projects like Project Sakura (which created &lt;a href="#/search/Yume Minamoto / Sakura" class="internal-link"&gt;Yume Minamoto / Sakura&lt;/a&gt;) and the ultimate goal of controlling the Kirin, the "ultimate Egregore."&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;The concept of a Tulpa originates from Tibetan Buddhist mysticism. The idea of an Egregore, a being created by collective thought, is a key concept in Western esotericism, particularly within movements like &lt;a href="https://en.wikipedia.org/wiki/Hermetic_Order_of_the_Golden_Dawn" class="external-link" target="_blank" rel="noopener noreferrer"&gt;The Hermetic Order of the Golden Dawn&lt;/a&gt;.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"New American Republic (NAR)"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;The fractured, post-war remnants of the USA. It's characterized by feudal city-states, a barter economy, resource scarcity, and Ætheric "scarring" from past metaphysical events, especially in the Appalachian Mountains. It is a harsh, dangerous place that &lt;a href="#/search/Alex 'Bowie' Shepard" class="internal-link"&gt;Alex 'Bowie' Shepard&lt;/a&gt; fled and where his sister &lt;a href="#/search/Carly Shepard" class="internal-link"&gt;Carly Shepard&lt;/a&gt; survives.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Draws inspiration from post-apocalyptic settings like those in the &lt;a href="https://en.wikipedia.org/wiki/Fallout_(series)" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Fallout&lt;/a&gt; video game series or the novel &lt;a href="https://en.wikipedia.org/wiki/A_Canticle_for_Leibowitz" class="external-link" target="_blank" rel="noopener noreferrer"&gt;A Canticle for Leibowitz&lt;/a&gt;, which explore themes of societal collapse, technological regression, and the rise of new, fragmented societies.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Ikanajima Island"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;A remote island in the Pacific that serves as the primary site for the Yako Syndicate's Project Tsunagari. It is a powerful ley line nexus, housing advanced technology like the &lt;a href="#/search/Kozyrev Mirror" class="internal-link"&gt;Kozyrev Mirror&lt;/a&gt; and Aringold Circuit Routers (ARCs) designed to merge realities.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;The concept of a mysterious, technologically advanced, and dangerous island is a classic trope, seen in works like &lt;a href="https://en.wikipedia.org/wiki/The_Island_of_Doctor_Moreau" class="external-link" target="_blank" rel="noopener noreferrer"&gt;The Island of Doctor Moreau&lt;/a&gt;, Michael Crichton's Jurassic Park, or the TV series &lt;a href="https://en.wikipedia.org/wiki/Lost_(TV_series)" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Lost&lt;/a&gt;.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Zenko Order"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;A faction of generally benevolent kitsune dedicated to maintaining cosmic balance and upholding ancient vows. They operate covertly, often through front organizations like Kiban Myobu, and employ skilled operatives like &lt;a href="#/search/Shikako ('Onryō')" class="internal-link"&gt;Shikako ('Onryō')&lt;/a&gt;. They are the primary opposition to the Yako Syndicate.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Secret societies dedicated to protecting the world from supernatural threats are a staple of urban fantasy. Examples include the Watchers' Council from &lt;a href="https://en.wikipedia.org/wiki/Buffy_the_Vampire_Slayer" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Buffy the Vampire Slayer&lt;/a&gt; or the Jedi Order from Star Wars, which follows a strict code to maintain balance in the Force.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Yako Syndicate"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;A criminal organization with deep roots in the corporate and supernatural worlds. Aligned with the malevolent Yako kitsune archetype, their primary goal is to accumulate power by controlling the reality-bending Egregore, the Kirin. They use corporations like Mobex and Kagami Tenko as fronts for their research.&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;This organization blends the concept of the Japanese Yakuza with a supernatural, conspiratorial element, similar to the Vampire Clans in &lt;a href="https://en.wikipedia.org/wiki/Vampire:_The_Masquerade" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Vampire: The Masquerade&lt;/a&gt; or the shadowy corporations in cyberpunk fiction that operate above the law.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>artifactsAndTech</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Kozyrev Mirror"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;A device based on fringe theories of non-linear time. It interacts with ley lines and can allow viewing or travel between dimensions. It is highly disorienting and dangerous, capable of fracturing reality, as it did to &lt;a href="#/search/Alex 'Bowie' Shepard" class="internal-link"&gt;Alex 'Bowie' Shepard&lt;/a&gt; on Ikanajima.&lt;/p&gt;`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Based on the real-world (though highly controversial and pseudoscientific) theories of Russian astrophysicist &lt;a href="https://en.wikipedia.org/wiki/Nikolai_Aleksandrovich_Kozyrev" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Nikolai Kozyrev&lt;/a&gt;, who proposed that time was a form of energy that could be manipulated.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Ichiro Kobayashi's Special Tarot Deck"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;One of only 33 decks "gifted by the source." These are not simple cards but powerful metaphysical tools used for divination and as anchors for interdimensional rituals. The Hierophant card is particularly potent for bridging realities.&lt;/p&gt;`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;The idea of a magical, limited-edition set of items echoes artifacts in many fantasy stories. The use of Tarot for magic and divination is a cornerstone of modern occultism and is prominently featured in series like &lt;a href="https://en.wikipedia.org/wiki/JoJo%27s_Bizarre_Adventure:_Stardust_Crusaders" class="external-link" target="_blank" rel="noopener noreferrer"&gt;JoJo's Bizarre Adventure: Stardust Crusaders&lt;/a&gt;.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"PROTOCOL Network"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;An advanced, self-replicating AI network technology created by Mobex. Its "Phased Resonance" capability allows it to transmit data through unconventional means, making it effective even in Æther-saturated or jammed environments. It is a key tool for the hacker &lt;a href="#/search/Aoi" class="internal-link"&gt;Aoi&lt;/a&gt;.&lt;/p&gt;`</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>realWorldEquivalent</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;This concept is similar to decentralized, resilient mesh networks being developed in the real world, combined with the sci-fi idea of a sentient or near-sentient AI network like Skynet from &lt;a href="https://en.wikipedia.org/wiki/The_Terminator" class="external-link" target="_blank" rel="noopener noreferrer"&gt;The Terminator&lt;/a&gt; or the Geth from &lt;a href="https://en.wikipedia.org/wiki/Mass_Effect" class="external-link" target="_blank" rel="noopener noreferrer"&gt;Mass Effect&lt;/a&gt;.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>plotAndTimeline</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Book 1: Fate and Foxfire"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;The core conflict revolves around Yume Minamoto's disappearance, which pulls &lt;a href="#/search/Alex 'Bowie' Shepard" class="internal-link"&gt;Alex 'Bowie' Shepard&lt;/a&gt; and &lt;a href="#/search/Mizuki / Hisoka" class="internal-link"&gt;Mizuki / Hisoka&lt;/a&gt; into a conspiracy by the &lt;a href="#/search/Yako Syndicate" class="internal-link"&gt;Yako Syndicate&lt;/a&gt; to awaken the reality-bending Kirin via Project Tsunagari on &lt;a href="#/search/Ikanajima Island" class="internal-link"&gt;Ikanajima Island&lt;/a&gt;. The climax involves the destruction of the facility, the fracturing of Bowie, the awakening of Hisoka, and the transformation of Yume into Sakura.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Book 2: Family and Folklore"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;&lt;a href="#/search/Carly Shepard" class="internal-link"&gt;Carly Shepard&lt;/a&gt; searches for her missing brother in the &lt;a href="#/search/New American Republic (NAR)" class="internal-link"&gt;New American Republic (NAR)&lt;/a&gt;. Her investigation leads her to a hidden Appalachian research facility, a sister site to Ikanajima. She forms an uneasy alliance with &lt;a href="#/search/Shikako ('Onryō')" class="internal-link"&gt;Shikako ('Onryō')&lt;/a&gt; and the fugitive scientist Fredrik Sørensen. The story culminates in the discovery and sacrifice of the "NAR-Bowie" version of her brother.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Book 3: Faith and Finality"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;Carly travels to Japan to find the "other" Bowie. The reunited group must confront a new nihilistic antagonist, &lt;a href="#/search/Mushoku" class="internal-link"&gt;Mushoku&lt;/a&gt;, who seeks to bring "Sunyata" (the void) to all realities. The climax requires Bowie to become whole again by re-merging with his other half's essence, embracing his fractured past to face the new threat.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>themesAndMotifs</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Core Themes"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;ul&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Identity &amp; Duality:&lt;/strong&gt; Human/Supernatural, Self/Other, Fractured Selves (Bowie's split).&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Family &amp; Connection:&lt;/strong&gt; Blood (Shepards), Found (the protagonist group), &amp; Metaphysical (Mizuki/Sakura).&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;The Balance:&lt;/strong&gt; Mundane/Metaphysical, Order/Chaos, Nature/Technology.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Sacrifice &amp; Redemption:&lt;/strong&gt; Tajima's and NAR-Bowie's sacrifices.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;li&gt;&lt;strong&gt;Knowledge, Power, &amp; Responsibility:&lt;/strong&gt; The core struggle for all factions and characters.&lt;/li&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/ul&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>notesAndIdeas</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"My Research Notes"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;This is a place for my own notes and ideas. For example, I need to research more about the specific rituals of Shintoism to make the shrine scenes more authentic. I should also look into the history of corporate espionage in Japan to better inform the Mobex/Kagami Tenko plotlines.&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Future Plot Hooks"</span><span class="s7">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>content</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`&lt;p&gt;What happened to Commander Colt after the Ikanajima incident? He was empowered by the nexus and then imploded, but his survival is hinted at. Could he return as a new, more powerful Ætheric entity? What other "colors" of research were Mobex conducting besides Sørensen's "blue team"?&lt;/p&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">};</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- APPLICATION LOGIC ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>document</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'DOMContentLoaded'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> passwordOverlay </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'password-overlay'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> passwordInput </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'password-input'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> submitPasswordBtn </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'submit-password'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> passwordError </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'password-error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> mainContent </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'main-content'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> logoutButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'logout-button'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> searchInput </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'search-input'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> searchResultsContainer </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'search-results-container'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> addLinkModal </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'add-link-modal'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> cancelLinkButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'cancel-link-button'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> insertLinkButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'insert-link-button'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> linkTypeSelect </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'link-type'</span><span class="s7">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s4"> </span><span class="s13">PASSWORD</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s8">"storywriter123"</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// You can change this!</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s4"> currentSelection </span><span class="s7">=</span><span class="s4"> </span><span class="s11">null</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// To store cursor position for link insertion</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- DATA PERSISTENCE ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> saveData</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>localStorage</span><span class="s7">.</span><span class="s1">setItem</span><span class="s7">(</span><span class="s8">'storyBibleData'</span><span class="s7">,</span><span class="s1"> </span><span class="s13">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s1">storyBibleData</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> loadData</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> savedData </span><span class="s7">=</span><span class="s1"> localStorage</span><span class="s7">.</span><span class="s1">getItem</span><span class="s7">(</span><span class="s8">'storyBibleData'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">savedData</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>storyBibleData </span><span class="s7">=</span><span class="s1"> </span><span class="s13">JSON</span><span class="s7">.</span><span class="s1">parse</span><span class="s7">(</span><span class="s1">savedData</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- AUTHENTICATION ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> checkAuth</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">sessionStorage</span><span class="s7">.</span><span class="s1">getItem</span><span class="s7">(</span><span class="s8">'storyBibleAuthenticated'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'true'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>passwordOverlay</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>mainContent</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loadData</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>renderApp</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>passwordOverlay</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>mainContent</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>submitPasswordBtn</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">passwordInput</span><span class="s7">.</span><span class="s1">value </span><span class="s7">===</span><span class="s1"> </span><span class="s13">PASSWORD</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>sessionStorage</span><span class="s7">.</span><span class="s1">setItem</span><span class="s7">(</span><span class="s8">'storyBibleAuthenticated'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'true'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>checkAuth</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>passwordError</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>passwordInput</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'border-red-500'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>passwordInput</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'keypress'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">key </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'Enter'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>submitPasswordBtn</span><span class="s7">.</span><span class="s1">click</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>passwordInput</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'input'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>passwordError</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>passwordInput</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'border-red-500'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>logoutButton</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>sessionStorage</span><span class="s7">.</span><span class="s1">removeItem</span><span class="s7">(</span><span class="s8">'storyBibleAuthenticated'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>location</span><span class="s7">.</span><span class="s1">reload</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- RENDER LOGIC ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> renderApp</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>renderNavigation</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>renderContentSections</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>attachEventListeners</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> renderNavigation</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> navLinks </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'navigation-links'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>navLinks</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">Object</span><span class="s7">.</span><span class="s1">keys</span><span class="s7">(</span><span class="s1">storyBibleData</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">key </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> li </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'li'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> a </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'a'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>a</span><span class="s7">.</span><span class="s1">href </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`#</span><span class="s7">${</span><span class="s1">key</span><span class="s7">}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>a</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> key</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s14">/([A-Z])/</span><span class="s11">g</span><span class="s7">,</span><span class="s1"> </span><span class="s8">' $1'</span><span class="s7">).</span><span class="s1">replace</span><span class="s7">(</span><span class="s14">/^./</span><span class="s7">,</span><span class="s1"> str </span><span class="s7">=&gt;</span><span class="s1"> str</span><span class="s7">.</span><span class="s1">toUpperCase</span><span class="s7">());</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>a</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>li</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">a</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>navLinks</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">li</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> renderContentSections</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> contentArea </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'content-area'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>contentArea</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">Object</span><span class="s7">.</span><span class="s1">entries</span><span class="s7">(</span><span class="s1">storyBibleData</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(([</span><span class="s1">key</span><span class="s7">,</span><span class="s1"> entries</span><span class="s7">])</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> section </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'section'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>section</span><span class="s7">.</span><span class="s1">id </span><span class="s7">=</span><span class="s1"> key</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>section</span><span class="s7">.</span><span class="s1">className </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'mb-12'</span><span class="s7">;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> sectionTitle </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'h2'</span><span class="s7">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>sectionTitle</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'text-3xl font-bold text-gray-900 border-b-2 border-indigo-200 pb-2 mb-6'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>sectionTitle</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> key</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s14">/([A-Z])/</span><span class="s11">g</span><span class="s7">,</span><span class="s1"> </span><span class="s8">' $1'</span><span class="s7">).</span><span class="s1">replace</span><span class="s7">(</span><span class="s14">/^./</span><span class="s7">,</span><span class="s1"> str </span><span class="s7">=&gt;</span><span class="s1"> str</span><span class="s7">.</span><span class="s1">toUpperCase</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>section</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">sectionTitle</span><span class="s7">);</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> cardContainer </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'div'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>cardContainer</span><span class="s7">.</span><span class="s1">className </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'space-y-6'</span><span class="s7">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>entries</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">((</span><span class="s1">entry</span><span class="s7">,</span><span class="s1"> index</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>cardContainer</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">createCard</span><span class="s7">(</span><span class="s1">key</span><span class="s7">,</span><span class="s1"> index</span><span class="s7">,</span><span class="s1"> entry</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>section</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">cardContainer</span><span class="s7">);</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> addButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'button'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>addButton</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`+ Add New Entry to </span><span class="s7">${</span><span class="s1">key</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s14">/([A-Z])/</span><span class="s11">g</span><span class="s7">,</span><span class="s1"> </span><span class="s8">' $1'</span><span class="s7">)}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>addButton</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'mt-6 bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-600 transition add-entry-btn'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>addButton</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">section </span><span class="s7">=</span><span class="s1"> key</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>section</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">addButton</span><span class="s7">);</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>contentArea</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">section</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> createCard</span><span class="s7">(</span><span class="s1">sectionKey</span><span class="s7">,</span><span class="s1"> index</span><span class="s7">,</span><span class="s1"> entryData</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> card </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'div'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>card</span><span class="s7">.</span><span class="s1">className </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'card p-6'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>card</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">section </span><span class="s7">=</span><span class="s1"> sectionKey</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>card</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">index </span><span class="s7">=</span><span class="s1"> index</span><span class="s7">;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> realWorldHtml </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">entryData</span><span class="s7">.</span><span class="s1">realWorldEquivalent </span><span class="s7">!==</span><span class="s1"> </span><span class="s11">undefined</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>realWorldHtml </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="mt-4 pt-4 border-t border-gray-200"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;h4 class="text-sm font-semibold text-gray-600 mb-2"&gt;Real-World Equivalents &amp; Inspirations&lt;/h4&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="prose-custom text-sm text-gray-700 editable" contenteditable="true" data-field="realWorldEquivalent"&gt;</span><span class="s7">${</span><span class="s4">entryData</span><span class="s7">.</span><span class="s4">realWorldEquivalent</span><span class="s7">}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>card</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-between items-start"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-gray-800 mb-3 editable" contenteditable="true" data-field="title"&gt;</span><span class="s7">${</span><span class="s4">entryData</span><span class="s7">.</span><span class="s4">title</span><span class="s7">}</span><span class="s1">&lt;/h3&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button class="add-link-btn text-sm text-indigo-600 hover:text-indigo-800 font-semibold"&gt;Add Links&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prose-custom max-w-none text-gray-700 editable" contenteditable="true" data-field="content"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">entryData</span><span class="s7">.</span><span class="s4">content</span><span class="s7">}</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">${</span><span class="s4">realWorldHtml</span><span class="s7">}</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">return</span><span class="s1"> card</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- EVENT LISTENERS ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> attachEventListeners</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">querySelectorAll</span><span class="s7">(</span><span class="s8">'.editable'</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">el </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>el</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'input'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> card </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s8">'.card'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> section </span><span class="s7">=</span><span class="s1"> card</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">section</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> index </span><span class="s7">=</span><span class="s1"> card</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">index</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> field </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">field</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>storyBibleData</span><span class="s7">[</span><span class="s1">section</span><span class="s7">][</span><span class="s1">index</span><span class="s7">][</span><span class="s1">field</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">innerHTML</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>saveData</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">querySelectorAll</span><span class="s7">(</span><span class="s8">'.add-entry-btn'</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">btn </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btn</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> section </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">section</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> newEntry </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"New Title"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>content</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"&lt;p&gt;New content goes here.&lt;/p&gt;"</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">storyBibleData</span><span class="s7">[</span><span class="s1">section</span><span class="s7">][</span><span class="s15">0</span><span class="s7">]</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> storyBibleData</span><span class="s7">[</span><span class="s1">section</span><span class="s7">][</span><span class="s15">0</span><span class="s7">].</span><span class="s1">realWorldEquivalent </span><span class="s7">!==</span><span class="s1"> </span><span class="s11">undefined</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>newEntry</span><span class="s7">.</span><span class="s1">realWorldEquivalent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">"&lt;p&gt;Real-world equivalent notes.&lt;/p&gt;"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>storyBibleData</span><span class="s7">[</span><span class="s1">section</span><span class="s7">].</span><span class="s1">push</span><span class="s7">(</span><span class="s1">newEntry</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>saveData</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>renderApp</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Link Management Listeners</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">querySelectorAll</span><span class="s7">(</span><span class="s8">'.add-link-btn'</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">btn </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btn</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> editableContent </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s8">'.card'</span><span class="s7">).</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'[data-field="content"]'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>saveSelection</span><span class="s7">(</span><span class="s1">editableContent</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>addLinkModal</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'link-text'</span><span class="s7">).</span><span class="s1">focus</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">querySelectorAll</span><span class="s7">(</span><span class="s8">'a.internal-link'</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">link </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>link</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> e </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>e</span><span class="s7">.</span><span class="s1">preventDefault</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> searchTerm </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">URL</span><span class="s7">(</span><span class="s1">link</span><span class="s7">.</span><span class="s1">href</span><span class="s7">).</span><span class="s1">hash</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s8">'#/search/'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">''</span><span class="s7">).</span><span class="s1">replace</span><span class="s7">(</span><span class="s14">/%20/</span><span class="s11">g</span><span class="s7">,</span><span class="s1"> </span><span class="s8">' '</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>searchInput</span><span class="s7">.</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> searchTerm</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>performSearch</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>searchResultsContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- SEARCH LOGIC ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>searchInput</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'input'</span><span class="s7">,</span><span class="s1"> performSearch</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>searchInput</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'focus'</span><span class="s7">,</span><span class="s1"> performSearch</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">searchResultsContainer</span><span class="s7">.</span><span class="s1">contains</span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">)</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target </span><span class="s7">!==</span><span class="s1"> searchInput</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>searchResultsContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> performSearch</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> query </span><span class="s7">=</span><span class="s1"> searchInput</span><span class="s7">.</span><span class="s1">value</span><span class="s7">.</span><span class="s1">toLowerCase</span><span class="s7">().</span><span class="s1">trim</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>searchResultsContainer</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">query</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&lt;</span><span class="s1"> </span><span class="s15">2</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>searchResultsContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>clearSearchHighlights</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>showAllCards</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> results </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">querySelectorAll</span><span class="s7">(</span><span class="s8">'.card'</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">card </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> title </span><span class="s7">=</span><span class="s1"> card</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'[data-field="title"]'</span><span class="s7">).</span><span class="s1">textContent</span><span class="s7">.</span><span class="s1">toLowerCase</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> content </span><span class="s7">=</span><span class="s1"> card</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'[data-field="content"]'</span><span class="s7">).</span><span class="s1">textContent</span><span class="s7">.</span><span class="s1">toLowerCase</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> realWorld </span><span class="s7">=</span><span class="s1"> card</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'[data-field="realWorldEquivalent"]'</span><span class="s7">)?.</span><span class="s1">textContent</span><span class="s7">.</span><span class="s1">toLowerCase</span><span class="s7">()</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">title</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s1">query</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> content</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s1">query</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> realWorld</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s1">query</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>results</span><span class="s7">.</span><span class="s1">push</span><span class="s7">({</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>title</span><span class="s7">:</span><span class="s1"> card</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'[data-field="title"]'</span><span class="s7">).</span><span class="s1">textContent</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>card</span><span class="s7">:</span><span class="s1"> card</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">results</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s15">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>searchResultsContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>results</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">result </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> resultDiv </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'div'</span><span class="s7">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>resultDiv</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'p-3 hover:bg-gray-100 cursor-pointer border-b border-gray-200'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>resultDiv</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> result</span><span class="s7">.</span><span class="s1">title</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>resultDiv</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>clearSearchHighlights</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>showAllCards</span><span class="s7">();</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>result</span><span class="s7">.</span><span class="s1">card</span><span class="s7">.</span><span class="s1">scrollIntoView</span><span class="s7">({</span><span class="s1"> behavior</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'smooth'</span><span class="s7">,</span><span class="s1"> block</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'center'</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Highlight the card and the search term</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>result</span><span class="s7">.</span><span class="s1">card</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'search-highlight'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>highlightTextInNode</span><span class="s7">(</span><span class="s1">result</span><span class="s7">.</span><span class="s1">card</span><span class="s7">,</span><span class="s1"> query</span><span class="s7">);</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>setTimeout</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>result</span><span class="s7">.</span><span class="s1">card</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'search-highlight'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">},</span><span class="s1"> </span><span class="s15">2000</span><span class="s7">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>searchResultsContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>searchInput</span><span class="s7">.</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> result</span><span class="s7">.</span><span class="s1">title</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>searchResultsContainer</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">resultDiv</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>searchResultsContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> clearSearchHighlights</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">querySelectorAll</span><span class="s7">(</span><span class="s8">'.highlight'</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">el </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>el</span><span class="s7">.</span><span class="s1">outerHTML </span><span class="s7">=</span><span class="s1"> el</span><span class="s7">.</span><span class="s1">innerHTML</span><span class="s7">;</span><span class="s1"> </span><span class="s10">// Unwrap the highlight</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> highlightTextInNode</span><span class="s7">(</span><span class="s1">node</span><span class="s7">,</span><span class="s1"> query</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>clearSearchHighlights</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> regex </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">RegExp</span><span class="s7">(</span><span class="s1">query</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'gi'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> treeWalker </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createTreeWalker</span><span class="s7">(</span><span class="s1">node</span><span class="s7">,</span><span class="s1"> </span><span class="s13">NodeFilter</span><span class="s7">.</span><span class="s13">SHOW_TEXT</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> currentNode</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">while</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentNode </span><span class="s7">=</span><span class="s1"> treeWalker</span><span class="s7">.</span><span class="s1">nextNode</span><span class="s7">())</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentNode</span><span class="s7">.</span><span class="s1">parentElement</span><span class="s7">.</span><span class="s1">tagName </span><span class="s7">!==</span><span class="s1"> </span><span class="s8">'SCRIPT'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> currentNode</span><span class="s7">.</span><span class="s1">parentElement</span><span class="s7">.</span><span class="s1">tagName </span><span class="s7">!==</span><span class="s1"> </span><span class="s8">'STYLE'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> matches </span><span class="s7">=</span><span class="s1"> currentNode</span><span class="s7">.</span><span class="s1">textContent</span><span class="s7">.</span><span class="s1">match</span><span class="s7">(</span><span class="s1">regex</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">matches</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> newNode </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'span'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>newNode</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> currentNode</span><span class="s7">.</span><span class="s1">textContent</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s1">regex</span><span class="s7">,</span><span class="s1"> match </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s8">`&lt;span class="highlight"&gt;</span><span class="s7">${</span><span class="s1">match</span><span class="s7">}</span><span class="s8">&lt;/span&gt;`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>currentNode</span><span class="s7">.</span><span class="s1">parentNode</span><span class="s7">.</span><span class="s1">replaceChild</span><span class="s7">(</span><span class="s1">newNode</span><span class="s7">,</span><span class="s1"> currentNode</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> showAllCards</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// This can be expanded to hide/show cards if search is used for filtering</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- LINK MODAL LOGIC ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>linkTypeSelect</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'change'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> label </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'link-target-label'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> input </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'link-target'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">value </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'internal'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>label</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Reference (Entry Name)'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>input</span><span class="s7">.</span><span class="s1">placeholder </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'e.g., Alex \'Bowie\' Shepard'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>label</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'URL'</span><span class="s7">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>input</span><span class="s7">.</span><span class="s4">placeholder </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'https://en.wikipedia.org/wiki/...'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>cancelLinkButton</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>addLinkModal</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>currentSelection </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>insertLinkButton</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> linkText </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'link-text'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> linkType </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'link-type'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> linkTarget </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'link-target'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">linkText </span><span class="s7">||</span><span class="s1"> </span><span class="s7">!</span><span class="s1">linkTarget</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>alert</span><span class="s7">(</span><span class="s1">'Please fill in both Link Text and the target/URL.'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> linkHtml</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">linkType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'internal'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>linkHtml </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`&lt;a href="#/search/</span><span class="s7">${</span><span class="s1">encodeURIComponent</span><span class="s7">(</span><span class="s1">linkTarget</span><span class="s7">)}</span><span class="s8">" class="internal-link"&gt;</span><span class="s7">${</span><span class="s1">linkText</span><span class="s7">}</span><span class="s8">&lt;/a&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>linkHtml </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;a href="</span><span class="s7">${</span><span class="s4">linkTarget</span><span class="s7">}</span><span class="s1">" class="external-link" target="_blank" rel="noopener noreferrer"&gt;</span><span class="s7">${</span><span class="s4">linkText</span><span class="s7">}</span><span class="s1">&lt;/a&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>restoreSelection</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">execCommand</span><span class="s7">(</span><span class="s8">'insertHTML'</span><span class="s7">,</span><span class="s1"> </span><span class="s11">false</span><span class="s7">,</span><span class="s1"> linkHtml </span><span class="s7">+</span><span class="s1"> </span><span class="s8">'&amp;nbsp;'</span><span class="s7">);</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Manually trigger save after insertion</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentSelection </span><span class="s7">&amp;&amp;</span><span class="s1"> currentSelection</span><span class="s7">.</span><span class="s1">focusNode</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> editable </span><span class="s7">=</span><span class="s1"> currentSelection</span><span class="s7">.</span><span class="s1">focusNode</span><span class="s7">.</span><span class="s1">parentElement</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s8">'.editable'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">editable</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> card </span><span class="s7">=</span><span class="s1"> editable</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s8">'.card'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> section </span><span class="s7">=</span><span class="s1"> card</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">section</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> index </span><span class="s7">=</span><span class="s1"> card</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">index</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> field </span><span class="s7">=</span><span class="s1"> editable</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">field</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>storyBibleData</span><span class="s7">[</span><span class="s1">section</span><span class="s7">][</span><span class="s1">index</span><span class="s7">][</span><span class="s1">field</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> editable</span><span class="s7">.</span><span class="s1">innerHTML</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>saveData</span><span class="s7">();</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// Re-attach internal link listeners</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>attachEventListeners</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Reset and hide modal</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'link-text'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'link-target'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>addLinkModal</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>currentSelection </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> saveSelection</span><span class="s7">(</span><span class="s1">containerEl</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> selection </span><span class="s7">=</span><span class="s1"> window</span><span class="s7">.</span><span class="s1">getSelection</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">selection</span><span class="s7">.</span><span class="s1">rangeCount </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s15">0</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> containerEl</span><span class="s7">.</span><span class="s1">contains</span><span class="s7">(</span><span class="s1">selection</span><span class="s7">.</span><span class="s1">getRangeAt</span><span class="s7">(</span><span class="s15">0</span><span class="s7">).</span><span class="s1">commonAncestorContainer</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>currentSelection </span><span class="s7">=</span><span class="s1"> selection</span><span class="s7">.</span><span class="s1">getRangeAt</span><span class="s7">(</span><span class="s15">0</span><span class="s7">).</span><span class="s1">cloneRange</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>currentSelection </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> restoreSelection</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentSelection</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> selection </span><span class="s7">=</span><span class="s1"> window</span><span class="s7">.</span><span class="s1">getSelection</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>selection</span><span class="s7">.</span><span class="s1">removeAllRanges</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>selection</span><span class="s7">.</span><span class="s1">addRange</span><span class="s7">(</span><span class="s1">currentSelection</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- INITIALIZATION ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>checkAuth</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">});</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s12"></span><br></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s12"></span><br></p>
</body>
</html>
